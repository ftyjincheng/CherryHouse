(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["ec-canvas/ec-canvas"],{"04f5":function(e,t,n){},"0af0":function(e,t,n){"use strict";n.r(t);var a=n("1182"),c=n("4e73");for(var i in c)"default"!==i&&function(e){n.d(t,e,(function(){return c[e]}))}(i);n("a709");var r,o=n("f0c5"),s=Object(o["a"])(c["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],r);t["default"]=s.exports},1182:function(e,t,n){"use strict";var a;n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a}));var c=function(){var e=this,t=e.$createElement;e._self._c;e._isMounted||(e.e0=function(t){e.ec.disableTouch},e.e1=function(t){e.ec.disableTouch},e.e2=function(t){e.ec.disableTouch},e.e3=function(t){e.ec.disableTouch},e.e4=function(t){e.ec.disableTouch},e.e5=function(t){e.ec.disableTouch})},i=[]},"4e73":function(e,t,n){"use strict";n.r(t);var a=n("d86a"),c=n.n(a);for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);t["default"]=c.a},a709:function(e,t,n){"use strict";var a=n("04f5"),c=n.n(a);c.a},d86a:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,c=s(n("7985")),i=o(n("dda2"));function r(){if("function"!==typeof WeakMap)return null;var e=new WeakMap;return r=function(){return e},e}function o(e){if(e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var t=r();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var i=a?Object.getOwnPropertyDescriptor(e,c):null;i&&(i.get||i.set)?Object.defineProperty(n,c,i):n[c]=e[c]}return n.default=e,t&&t.set(e,n),n}function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){e=e.split("."),t=t.split(".");var n=Math.max(e.length,t.length);while(e.length<n)e.push("0");while(t.length<n)t.push("0");for(var a=0;a<n;a++){var c=parseInt(e[a]),i=parseInt(t[a]);if(c>i)return 1;if(c<i)return-1}return 0}function f(e){for(var t=0;t<e.touches.length;++t){var n=e.touches[t];n.offsetX=n.x,n.offsetY=n.y}return e}var h={data:function(){return{isUseNewCanvas:!1}},components:{},props:{canvasId:{type:String,default:"ec-canvas"},ec:{type:Object},forceUseOldCanvas:{type:Boolean,default:!1}},mounted:function(){this.ec?this.ec.lazyLoad||this.init():console.warn('组件需绑定 ec 变量，例：<ec-canvas id="mychart-dom-bar" canvas-id="mychart-bar" ec="{{ ec }}"></ec-canvas>')},methods:{init:function(t){var n=e.getSystemInfoSync().SDKVersion,a=u(n,"2.9.0")>=0,c=this.forceUseOldCanvas,i=a&&!c;if(this.setData({isUseNewCanvas:i}),c&&a&&console.warn("开发者强制使用旧canvas,建议关闭"),i)this.initByNewWay(t);else{var r=u(n,"1.9.91")>=0;if(!r)return void console.error("微信基础库版本过低，需大于等于 1.9.91。参见：https://github.com/ecomfe/echarts-for-weixin#%E5%BE%AE%E4%BF%A1%E7%89%88%E6%9C%AC%E8%A6%81%E6%B1%82");console.warn("建议将微信基础库调整大于等于2.9.0版本。升级后绘图将有更好性能"),this.initByOldWay(t)}},initByOldWay:function(t){var n=this;a=e.createCanvasContext(this.canvasId,this);var r=new c.default(a,this.canvasId,!1);i.setCanvasCreator((function(){return r}));var o=1,s=e.createSelectorQuery().in(this);s.select(".ec-canvas").boundingClientRect((function(e){"function"===typeof t?n.chart=t(r,e.width,e.height,o):n.ec&&"function"===typeof n.ec.onInit?n.chart=n.ec.onInit(r,e.width,e.height,o):n.$emit("init",{detail:{canvas:r,width:e.width,height:e.height,canvasDpr:o}})})).exec()},initByNewWay:function(t){var n=this,a=e.createSelectorQuery().in(this);a.select(".ec-canvas").fields({node:!0,size:!0}).exec((function(a){var r=a[0].node;n.canvasNode=r;var o=e.getSystemInfoSync().pixelRatio,s=a[0].width,u=a[0].height,f=r.getContext("2d"),h=new c.default(f,n.canvasId,!0,r);i.setCanvasCreator((function(){return h})),"function"===typeof t?n.chart=t(h,s,u,o):n.ec&&"function"===typeof n.ec.onInit?n.chart=n.ec.onInit(h,s,u,o):n.$emit("init",{detail:{canvas:h,width:s,height:u,dpr:o}})}))},canvasToTempFilePath:function(t){var n=this;if(this.isUseNewCanvas){var c=e.createSelectorQuery().in(this);c.select(".ec-canvas").fields({node:!0,size:!0}).exec((function(n){var a=n[0].node;t.canvas=a,e.canvasToTempFilePath(t)}))}else t.canvasId||(t.canvasId=this.canvasId),a.draw(!0,(function(){e.canvasToTempFilePath(t,n)}))},touchStart:function(e){if(this.chart&&e.touches.length>0){var t=e.touches[0],n=this.chart.getZr().handler;n.dispatch("mousedown",{zrX:t.x,zrY:t.y}),n.dispatch("mousemove",{zrX:t.x,zrY:t.y}),n.processGesture(f(e),"start")}},touchMove:function(e){if(this.chart&&e.touches.length>0){var t=e.touches[0],n=this.chart.getZr().handler;n.dispatch("mousemove",{zrX:t.x,zrY:t.y}),n.processGesture(f(e),"change")}},touchEnd:function(e){if(this.chart){var t=e.changedTouches?e.changedTouches[0]:{},n=this.chart.getZr().handler;n.dispatch("mouseup",{zrX:t.x,zrY:t.y}),n.dispatch("click",{zrX:t.x,zrY:t.y}),n.processGesture(f(e),"end")}}}};t.default=h}).call(this,n("543d")["default"])}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'ec-canvas/ec-canvas-create-component',
    {
        'ec-canvas/ec-canvas-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("0af0"))
        })
    },
    [['ec-canvas/ec-canvas-create-component']]
]);
